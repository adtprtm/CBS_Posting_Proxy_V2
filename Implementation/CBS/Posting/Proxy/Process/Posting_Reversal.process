<?xml version="1.0" encoding="UTF-8"?>
<pd:ProcessDefinition xmlns:BW="java://com.tibco.pe.core.JavaCustomXPATHFunctions" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ns="http://www.tibco.com/pe/DeployedVarsType" xmlns:ns5="http://www.tibco.com/pe/EngineTypes" xmlns:ns12="http://xml.asyst.co.id/cbs/posting/translog" xmlns:ns6="www.tibco.com/plugin/java/JavaMethodActivityOutput" xmlns:ns13="www.tibco.com/plugin/java/JavaMethodActivityInput" xmlns:pfx="http://xml.asyst.co.id/cbs/service/posting" xmlns:ns2="http://www.tibco.com/xmlns/ae2xsd/2002/05/ae/as400/IBM_BKP_MIA_Posting/ProgramCall/ProgramCall" xmlns:pd="http://xmlns.tibco.com/bw/process/2003" xmlns:ns1="http://xml.asyst.co.id/commons/logging/audit" xmlns:ns4="http://www.tibco.com/pe/WriteToLogActivitySchema" xmlns:ns3="http://xml.asyst.co.id/commons/logging/transaction" xmlns:pfx5="http://xml.asyst.co.id/cbs/posting/postingdata" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:pfx4="http://www.tibco.com/pe/GenerateErrorActivity/InputSchema" xmlns:tib="http://www.tibco.com/bw/xslt/custom-functions" xmlns:pfx3="http://xml.asyst.co.id/cbs/posting/postdata" xmlns:pfx2="http://xml.asyst.co.id/commons/iso8583" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <xsd:import namespace="http://xml.asyst.co.id/cbs/service/posting" schemaLocation="/SharedResources/CBS/Posting/Proxy/Schemas/CBSPosting.xsd"/>
    <xsd:import namespace="http://xml.asyst.co.id/commons/iso8583" schemaLocation="/SharedResources/Commons/Schemas/ISO/ISO8583.xsd"/>
    <xsd:import namespace="http://xml.asyst.co.id/cbs/posting/postdata" schemaLocation="/SharedResources/CBS/Posting/Proxy/Schemas/PostData.xsd"/>
    <xsd:import namespace="http://xml.asyst.co.id/cbs/posting/postingdata" schemaLocation="/SharedResources/CBS/Posting/Proxy/Schemas/PostingData.xsd"/>
    <pd:name>Implementation/CBS/Posting/Proxy/Process/Posting_Reversal.process</pd:name>
    <pd:startName>Start</pd:startName>
    <pd:startType>
        <xsd:element name="TransactionReq">
            <xsd:complexType>
                <xsd:sequence>
                    <xsd:element name="BWTxnID" type="xsd:string"/>
                    <xsd:element name="ClientTxnID" type="xsd:string"/>
                    <xsd:element name="ClientID" type="xsd:string"/>
                    <xsd:element name="STAN_S" type="xsd:string"/>
                    <xsd:element ref="pfx2:ISOMessages"/>
                    <xsd:element name="ActiveLib" type="xsd:string" minOccurs="0"/>
                </xsd:sequence>
            </xsd:complexType>
        </xsd:element>
    </pd:startType>
    <pd:startX>47</pd:startX>
    <pd:startY>70</pd:startY>
    <pd:returnBindings>
        <TransactionRes>
            <BWTxnID>
                <xsl:value-of select="$Start/TransactionReq/BWTxnID"/>
            </BWTxnID>
            <ClientTxnID>
                <xsl:value-of select="$Start/TransactionReq/ClientTxnID"/>
            </ClientTxnID>
            <xsl:for-each select="$GenerateDataOutput/pfx2:ISOMessages">
                <pfx2:ISOMessages>
                    <xsl:for-each select="pfx2:Data">
                        <pfx2:Data>
                            <xsl:if test="pfx2:BinaryData">
                                <pfx2:BinaryData>
                                    <xsl:value-of select="pfx2:BinaryData"/>
                                </pfx2:BinaryData>
                            </xsl:if>
                            <xsl:if test="pfx2:StringData">
                                <pfx2:StringData>
                                    <xsl:value-of select="pfx2:StringData"/>
                                </pfx2:StringData>
                            </xsl:if>
                        </pfx2:Data>
                    </xsl:for-each>
                    <xsl:if test="pfx2:MTI">
                        <pfx2:MTI>
                            <xsl:value-of select="pfx2:MTI"/>
                        </pfx2:MTI>
                    </xsl:if>
                    <xsl:for-each select="pfx2:DataElement">
                        <pfx2:DataElement>
                            <xsl:if test="pfx2:Element_01">
                                <pfx2:Element_01>
                                    <xsl:value-of select="pfx2:Element_01"/>
                                </pfx2:Element_01>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_02">
                                <pfx2:Element_02>
                                    <xsl:value-of select="pfx2:Element_02"/>
                                </pfx2:Element_02>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_03">
                                <pfx2:Element_03>
                                    <xsl:value-of select="pfx2:Element_03"/>
                                </pfx2:Element_03>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_04">
                                <pfx2:Element_04>
                                    <xsl:value-of select="pfx2:Element_04"/>
                                </pfx2:Element_04>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_05">
                                <pfx2:Element_05>
                                    <xsl:value-of select="pfx2:Element_05"/>
                                </pfx2:Element_05>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_06">
                                <pfx2:Element_06>
                                    <xsl:value-of select="pfx2:Element_06"/>
                                </pfx2:Element_06>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_07">
                                <pfx2:Element_07>
                                    <xsl:value-of select="pfx2:Element_07"/>
                                </pfx2:Element_07>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_08">
                                <pfx2:Element_08>
                                    <xsl:value-of select="pfx2:Element_08"/>
                                </pfx2:Element_08>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_09">
                                <pfx2:Element_09>
                                    <xsl:value-of select="pfx2:Element_09"/>
                                </pfx2:Element_09>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_10">
                                <pfx2:Element_10>
                                    <xsl:value-of select="pfx2:Element_10"/>
                                </pfx2:Element_10>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_11">
                                <pfx2:Element_11>
                                    <xsl:value-of select="pfx2:Element_11"/>
                                </pfx2:Element_11>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_12">
                                <pfx2:Element_12>
                                    <xsl:value-of select="pfx2:Element_12"/>
                                </pfx2:Element_12>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_13">
                                <pfx2:Element_13>
                                    <xsl:value-of select="pfx2:Element_13"/>
                                </pfx2:Element_13>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_14">
                                <pfx2:Element_14>
                                    <xsl:value-of select="pfx2:Element_14"/>
                                </pfx2:Element_14>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_15">
                                <pfx2:Element_15>
                                    <xsl:value-of select="pfx2:Element_15"/>
                                </pfx2:Element_15>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_16">
                                <pfx2:Element_16>
                                    <xsl:value-of select="pfx2:Element_16"/>
                                </pfx2:Element_16>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_17">
                                <pfx2:Element_17>
                                    <xsl:value-of select="pfx2:Element_17"/>
                                </pfx2:Element_17>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_18">
                                <pfx2:Element_18>
                                    <xsl:value-of select="pfx2:Element_18"/>
                                </pfx2:Element_18>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_19">
                                <pfx2:Element_19>
                                    <xsl:value-of select="pfx2:Element_19"/>
                                </pfx2:Element_19>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_20">
                                <pfx2:Element_20>
                                    <xsl:value-of select="pfx2:Element_20"/>
                                </pfx2:Element_20>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_21">
                                <pfx2:Element_21>
                                    <xsl:value-of select="pfx2:Element_21"/>
                                </pfx2:Element_21>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_22">
                                <pfx2:Element_22>
                                    <xsl:value-of select="pfx2:Element_22"/>
                                </pfx2:Element_22>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_23">
                                <pfx2:Element_23>
                                    <xsl:value-of select="pfx2:Element_23"/>
                                </pfx2:Element_23>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_24">
                                <pfx2:Element_24>
                                    <xsl:value-of select="pfx2:Element_24"/>
                                </pfx2:Element_24>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_25">
                                <pfx2:Element_25>
                                    <xsl:value-of select="pfx2:Element_25"/>
                                </pfx2:Element_25>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_26">
                                <pfx2:Element_26>
                                    <xsl:value-of select="pfx2:Element_26"/>
                                </pfx2:Element_26>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_27">
                                <pfx2:Element_27>
                                    <xsl:value-of select="pfx2:Element_27"/>
                                </pfx2:Element_27>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_28">
                                <pfx2:Element_28>
                                    <xsl:value-of select="pfx2:Element_28"/>
                                </pfx2:Element_28>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_29">
                                <pfx2:Element_29>
                                    <xsl:value-of select="pfx2:Element_29"/>
                                </pfx2:Element_29>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_30">
                                <pfx2:Element_30>
                                    <xsl:value-of select="pfx2:Element_30"/>
                                </pfx2:Element_30>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_31">
                                <pfx2:Element_31>
                                    <xsl:value-of select="pfx2:Element_31"/>
                                </pfx2:Element_31>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_32">
                                <pfx2:Element_32>
                                    <xsl:value-of select="pfx2:Element_32"/>
                                </pfx2:Element_32>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_33">
                                <pfx2:Element_33>
                                    <xsl:value-of select="pfx2:Element_33"/>
                                </pfx2:Element_33>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_34">
                                <pfx2:Element_34>
                                    <xsl:value-of select="pfx2:Element_34"/>
                                </pfx2:Element_34>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_35">
                                <pfx2:Element_35>
                                    <xsl:value-of select="pfx2:Element_35"/>
                                </pfx2:Element_35>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_36">
                                <pfx2:Element_36>
                                    <xsl:value-of select="pfx2:Element_36"/>
                                </pfx2:Element_36>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_37">
                                <pfx2:Element_37>
                                    <xsl:value-of select="pfx2:Element_37"/>
                                </pfx2:Element_37>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_38">
                                <pfx2:Element_38>
                                    <xsl:value-of select="pfx2:Element_38"/>
                                </pfx2:Element_38>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_39">
                                <pfx2:Element_39>
                                    <xsl:value-of select="pfx2:Element_39"/>
                                </pfx2:Element_39>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_40">
                                <pfx2:Element_40>
                                    <xsl:value-of select="pfx2:Element_40"/>
                                </pfx2:Element_40>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_41">
                                <pfx2:Element_41>
                                    <xsl:value-of select="pfx2:Element_41"/>
                                </pfx2:Element_41>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_42">
                                <pfx2:Element_42>
                                    <xsl:value-of select="pfx2:Element_42"/>
                                </pfx2:Element_42>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_43">
                                <pfx2:Element_43>
                                    <xsl:value-of select="pfx2:Element_43"/>
                                </pfx2:Element_43>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_44">
                                <pfx2:Element_44>
                                    <xsl:value-of select="pfx2:Element_44"/>
                                </pfx2:Element_44>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_45">
                                <pfx2:Element_45>
                                    <xsl:value-of select="pfx2:Element_45"/>
                                </pfx2:Element_45>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_46">
                                <pfx2:Element_46>
                                    <xsl:value-of select="pfx2:Element_46"/>
                                </pfx2:Element_46>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_47">
                                <pfx2:Element_47>
                                    <xsl:value-of select="pfx2:Element_47"/>
                                </pfx2:Element_47>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_48">
                                <pfx2:Element_48>
                                    <xsl:value-of select="pfx2:Element_48"/>
                                </pfx2:Element_48>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_49">
                                <pfx2:Element_49>
                                    <xsl:value-of select="pfx2:Element_49"/>
                                </pfx2:Element_49>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_50">
                                <pfx2:Element_50>
                                    <xsl:value-of select="pfx2:Element_50"/>
                                </pfx2:Element_50>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_51">
                                <pfx2:Element_51>
                                    <xsl:value-of select="pfx2:Element_51"/>
                                </pfx2:Element_51>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_52">
                                <pfx2:Element_52>
                                    <xsl:value-of select="pfx2:Element_52"/>
                                </pfx2:Element_52>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_53">
                                <pfx2:Element_53>
                                    <xsl:value-of select="pfx2:Element_53"/>
                                </pfx2:Element_53>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_54">
                                <pfx2:Element_54>
                                    <xsl:value-of select="pfx2:Element_54"/>
                                </pfx2:Element_54>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_55">
                                <pfx2:Element_55>
                                    <xsl:value-of select="pfx2:Element_55"/>
                                </pfx2:Element_55>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_56">
                                <pfx2:Element_56>
                                    <xsl:value-of select="pfx2:Element_56"/>
                                </pfx2:Element_56>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_57">
                                <pfx2:Element_57>
                                    <xsl:value-of select="pfx2:Element_57"/>
                                </pfx2:Element_57>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_58">
                                <pfx2:Element_58>
                                    <xsl:value-of select="pfx2:Element_58"/>
                                </pfx2:Element_58>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_59">
                                <pfx2:Element_59>
                                    <xsl:value-of select="pfx2:Element_59"/>
                                </pfx2:Element_59>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_60">
                                <pfx2:Element_60>
                                    <xsl:value-of select="pfx2:Element_60"/>
                                </pfx2:Element_60>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_61">
                                <pfx2:Element_61>
                                    <xsl:value-of select="pfx2:Element_61"/>
                                </pfx2:Element_61>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_62">
                                <pfx2:Element_62>
                                    <xsl:value-of select="pfx2:Element_62"/>
                                </pfx2:Element_62>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_63">
                                <pfx2:Element_63>
                                    <xsl:value-of select="pfx2:Element_63"/>
                                </pfx2:Element_63>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_64">
                                <pfx2:Element_64>
                                    <xsl:value-of select="pfx2:Element_64"/>
                                </pfx2:Element_64>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_65">
                                <pfx2:Element_65>
                                    <xsl:value-of select="pfx2:Element_65"/>
                                </pfx2:Element_65>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_66">
                                <pfx2:Element_66>
                                    <xsl:value-of select="pfx2:Element_66"/>
                                </pfx2:Element_66>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_67">
                                <pfx2:Element_67>
                                    <xsl:value-of select="pfx2:Element_67"/>
                                </pfx2:Element_67>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_68">
                                <pfx2:Element_68>
                                    <xsl:value-of select="pfx2:Element_68"/>
                                </pfx2:Element_68>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_69">
                                <pfx2:Element_69>
                                    <xsl:value-of select="pfx2:Element_69"/>
                                </pfx2:Element_69>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_70">
                                <pfx2:Element_70>
                                    <xsl:value-of select="pfx2:Element_70"/>
                                </pfx2:Element_70>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_71">
                                <pfx2:Element_71>
                                    <xsl:value-of select="pfx2:Element_71"/>
                                </pfx2:Element_71>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_72">
                                <pfx2:Element_72>
                                    <xsl:value-of select="pfx2:Element_72"/>
                                </pfx2:Element_72>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_73">
                                <pfx2:Element_73>
                                    <xsl:value-of select="pfx2:Element_73"/>
                                </pfx2:Element_73>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_74">
                                <pfx2:Element_74>
                                    <xsl:value-of select="pfx2:Element_74"/>
                                </pfx2:Element_74>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_75">
                                <pfx2:Element_75>
                                    <xsl:value-of select="pfx2:Element_75"/>
                                </pfx2:Element_75>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_76">
                                <pfx2:Element_76>
                                    <xsl:value-of select="pfx2:Element_76"/>
                                </pfx2:Element_76>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_77">
                                <pfx2:Element_77>
                                    <xsl:value-of select="pfx2:Element_77"/>
                                </pfx2:Element_77>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_78">
                                <pfx2:Element_78>
                                    <xsl:value-of select="pfx2:Element_78"/>
                                </pfx2:Element_78>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_79">
                                <pfx2:Element_79>
                                    <xsl:value-of select="pfx2:Element_79"/>
                                </pfx2:Element_79>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_80">
                                <pfx2:Element_80>
                                    <xsl:value-of select="pfx2:Element_80"/>
                                </pfx2:Element_80>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_81">
                                <pfx2:Element_81>
                                    <xsl:value-of select="pfx2:Element_81"/>
                                </pfx2:Element_81>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_82">
                                <pfx2:Element_82>
                                    <xsl:value-of select="pfx2:Element_82"/>
                                </pfx2:Element_82>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_83">
                                <pfx2:Element_83>
                                    <xsl:value-of select="pfx2:Element_83"/>
                                </pfx2:Element_83>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_84">
                                <pfx2:Element_84>
                                    <xsl:value-of select="pfx2:Element_84"/>
                                </pfx2:Element_84>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_85">
                                <pfx2:Element_85>
                                    <xsl:value-of select="pfx2:Element_85"/>
                                </pfx2:Element_85>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_86">
                                <pfx2:Element_86>
                                    <xsl:value-of select="pfx2:Element_86"/>
                                </pfx2:Element_86>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_87">
                                <pfx2:Element_87>
                                    <xsl:value-of select="pfx2:Element_87"/>
                                </pfx2:Element_87>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_88">
                                <pfx2:Element_88>
                                    <xsl:value-of select="pfx2:Element_88"/>
                                </pfx2:Element_88>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_89">
                                <pfx2:Element_89>
                                    <xsl:value-of select="pfx2:Element_89"/>
                                </pfx2:Element_89>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_90">
                                <pfx2:Element_90>
                                    <xsl:value-of select="pfx2:Element_90"/>
                                </pfx2:Element_90>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_91">
                                <pfx2:Element_91>
                                    <xsl:value-of select="pfx2:Element_91"/>
                                </pfx2:Element_91>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_92">
                                <pfx2:Element_92>
                                    <xsl:value-of select="pfx2:Element_92"/>
                                </pfx2:Element_92>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_93">
                                <pfx2:Element_93>
                                    <xsl:value-of select="pfx2:Element_93"/>
                                </pfx2:Element_93>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_94">
                                <pfx2:Element_94>
                                    <xsl:value-of select="pfx2:Element_94"/>
                                </pfx2:Element_94>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_95">
                                <pfx2:Element_95>
                                    <xsl:value-of select="pfx2:Element_95"/>
                                </pfx2:Element_95>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_96">
                                <pfx2:Element_96>
                                    <xsl:value-of select="pfx2:Element_96"/>
                                </pfx2:Element_96>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_97">
                                <pfx2:Element_97>
                                    <xsl:value-of select="pfx2:Element_97"/>
                                </pfx2:Element_97>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_98">
                                <pfx2:Element_98>
                                    <xsl:value-of select="pfx2:Element_98"/>
                                </pfx2:Element_98>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_99">
                                <pfx2:Element_99>
                                    <xsl:value-of select="pfx2:Element_99"/>
                                </pfx2:Element_99>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_100">
                                <pfx2:Element_100>
                                    <xsl:value-of select="pfx2:Element_100"/>
                                </pfx2:Element_100>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_101">
                                <pfx2:Element_101>
                                    <xsl:value-of select="pfx2:Element_101"/>
                                </pfx2:Element_101>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_102">
                                <pfx2:Element_102>
                                    <xsl:value-of select="pfx2:Element_102"/>
                                </pfx2:Element_102>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_103">
                                <pfx2:Element_103>
                                    <xsl:value-of select="pfx2:Element_103"/>
                                </pfx2:Element_103>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_104">
                                <pfx2:Element_104>
                                    <xsl:value-of select="pfx2:Element_104"/>
                                </pfx2:Element_104>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_105">
                                <pfx2:Element_105>
                                    <xsl:value-of select="pfx2:Element_105"/>
                                </pfx2:Element_105>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_106">
                                <pfx2:Element_106>
                                    <xsl:value-of select="pfx2:Element_106"/>
                                </pfx2:Element_106>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_107">
                                <pfx2:Element_107>
                                    <xsl:value-of select="pfx2:Element_107"/>
                                </pfx2:Element_107>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_108">
                                <pfx2:Element_108>
                                    <xsl:value-of select="pfx2:Element_108"/>
                                </pfx2:Element_108>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_109">
                                <pfx2:Element_109>
                                    <xsl:value-of select="pfx2:Element_109"/>
                                </pfx2:Element_109>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_110">
                                <pfx2:Element_110>
                                    <xsl:value-of select="pfx2:Element_110"/>
                                </pfx2:Element_110>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_111">
                                <pfx2:Element_111>
                                    <xsl:value-of select="pfx2:Element_111"/>
                                </pfx2:Element_111>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_112">
                                <pfx2:Element_112>
                                    <xsl:value-of select="pfx2:Element_112"/>
                                </pfx2:Element_112>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_113">
                                <pfx2:Element_113>
                                    <xsl:value-of select="pfx2:Element_113"/>
                                </pfx2:Element_113>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_114">
                                <pfx2:Element_114>
                                    <xsl:value-of select="pfx2:Element_114"/>
                                </pfx2:Element_114>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_115">
                                <pfx2:Element_115>
                                    <xsl:value-of select="pfx2:Element_115"/>
                                </pfx2:Element_115>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_116">
                                <pfx2:Element_116>
                                    <xsl:value-of select="pfx2:Element_116"/>
                                </pfx2:Element_116>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_117">
                                <pfx2:Element_117>
                                    <xsl:value-of select="pfx2:Element_117"/>
                                </pfx2:Element_117>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_118">
                                <pfx2:Element_118>
                                    <xsl:value-of select="pfx2:Element_118"/>
                                </pfx2:Element_118>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_119">
                                <pfx2:Element_119>
                                    <xsl:value-of select="pfx2:Element_119"/>
                                </pfx2:Element_119>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_120">
                                <pfx2:Element_120>
                                    <xsl:value-of select="pfx2:Element_120"/>
                                </pfx2:Element_120>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_121">
                                <pfx2:Element_121>
                                    <xsl:value-of select="pfx2:Element_121"/>
                                </pfx2:Element_121>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_122">
                                <pfx2:Element_122>
                                    <xsl:value-of select="pfx2:Element_122"/>
                                </pfx2:Element_122>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_123">
                                <pfx2:Element_123>
                                    <xsl:value-of select="pfx2:Element_123"/>
                                </pfx2:Element_123>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_124">
                                <pfx2:Element_124>
                                    <xsl:value-of select="pfx2:Element_124"/>
                                </pfx2:Element_124>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_125">
                                <pfx2:Element_125>
                                    <xsl:value-of select="pfx2:Element_125"/>
                                </pfx2:Element_125>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_126">
                                <pfx2:Element_126>
                                    <xsl:value-of select="pfx2:Element_126"/>
                                </pfx2:Element_126>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_127">
                                <pfx2:Element_127>
                                    <xsl:value-of select="pfx2:Element_127"/>
                                </pfx2:Element_127>
                            </xsl:if>
                            <xsl:if test="pfx2:Element_128">
                                <pfx2:Element_128>
                                    <xsl:value-of select="pfx2:Element_128"/>
                                </pfx2:Element_128>
                            </xsl:if>
                        </pfx2:DataElement>
                    </xsl:for-each>
                </pfx2:ISOMessages>
            </xsl:for-each>
        </TransactionRes>
    </pd:returnBindings>
    <pd:endName>End</pd:endName>
    <pd:endType>
        <xsd:element name="TransactionRes">
            <xsd:complexType>
                <xsd:sequence>
                    <xsd:element name="BWTxnID" type="xsd:string"/>
                    <xsd:element name="ClientTxnID" type="xsd:string"/>
                    <xsd:element ref="pfx2:ISOMessages"/>
                </xsd:sequence>
            </xsd:complexType>
        </xsd:element>
    </pd:endType>
    <pd:endX>1509</pd:endX>
    <pd:endY>77</pd:endY>
    <pd:errorSchemas/>
    <pd:processVariables>
        <Timestamp>
            <xsd:element name="StartTimestamp" type="xsd:double"/>
        </Timestamp>
    </pd:processVariables>
    <pd:targetNamespace>http://xmlns.example.com/1445239330552</pd:targetNamespace>
    <pd:activity name="AssignTimestamp">
        <pd:type>com.tibco.pe.core.AssignActivity</pd:type>
        <pd:resourceType>ae.activities.assignActivity</pd:resourceType>
        <pd:x>352</pd:x>
        <pd:y>70</pd:y>
        <config>
            <variableName>Timestamp</variableName>
        </config>
        <pd:inputBindings>
            <StartTimestamp>
                <xsl:value-of select="tib:timestamp()"/>
            </StartTimestamp>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Catch">
        <pd:type>com.tibco.pe.core.CatchActivity</pd:type>
        <pd:resourceType>ae.activities.catch</pd:resourceType>
        <pd:x>1046</pd:x>
        <pd:y>294</pd:y>
        <pd:handler>true</pd:handler>
        <config>
            <catchAll>true</catchAll>
        </config>
        <pd:inputBindings/>
    </pd:activity>
    <pd:activity name="EndLog">
        <pd:type>com.tibco.pe.core.WriteToLogActivity</pd:type>
        <pd:resourceType>ae.activities.log</pd:resourceType>
        <pd:x>1374</pd:x>
        <pd:y>77</pd:y>
        <config>
            <role>User</role>
            <suppressHeader>true</suppressHeader>
        </config>
        <pd:inputBindings>
            <ns4:ActivityInput>
                <message>
                    <xsl:value-of select="concat(&#xA;&#x9;&quot;Reversal posting process triggered by  &quot;, $Start/TransactionReq/ClientID,&#xA;&#x9;&quot; has finished by &quot;, current-dateTime(),&#xA;&#x9;&quot; for &quot;, tib:timestamp() - $Timestamp/StartTimestamp, &quot; ms long.&quot;)"/>
                </message>
                <msgCode>
                    <xsl:value-of select="&quot;END AUDIT&quot;"/>
                </msgCode>
            </ns4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="ErrorLog">
        <pd:type>com.tibco.pe.core.WriteToLogActivity</pd:type>
        <pd:resourceType>ae.activities.log</pd:resourceType>
        <pd:x>1200</pd:x>
        <pd:y>296</pd:y>
        <config>
            <role>User</role>
            <suppressHeader>true</suppressHeader>
        </config>
        <pd:inputBindings>
            <ns4:ActivityInput>
                <message>
                    <xsl:value-of select="concat(&#xA;&#x9;&quot;An error occured while processing reversal posting triggered by &quot;, $Start/TransactionReq/ClientID,&#xA;&#x9;&quot; and finished at &quot;, current-dateTime(),&#xA;&#x9;&quot; took duration for &quot;,&#xA;&#x9;tib:timestamp() - $Timestamp/StartTimestamp, &quot; ms.&quot;,&#xA;&#x9;&quot; Error Message: &quot;,  &quot;&#xD;&#xA;&quot;,&#xA;&#x9;$_error/ns5:ErrorReport/StackTrace&#xA;)"/>
                </message>
                <msgCode>
                    <xsl:value-of select="&quot;ERROR AUDIT&quot;"/>
                </msgCode>
            </ns4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="GenerateDataInput">
        <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
        <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
        <pd:x>499</pd:x>
        <pd:y>69</pd:y>
        <config>
            <element ref="pfx5:PostingData"/>
        </config>
        <pd:inputBindings>
            <pfx5:PostingData>
                <xsl:if test="$Start/TransactionReq/pfx2:ISOMessages/pfx2:MTI">
                    <pfx5:TrxType>
                        <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:MTI"/>
                    </pfx5:TrxType>
                </xsl:if>
                <xsl:choose>
                    <xsl:when test="exists($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_11)&#xA;and&#xA;string-length($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_11) > 0">
                        <xsl:if test="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_11">
                            <pfx5:SSTAN>
                                <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_11"/>
                            </pfx5:SSTAN>
                        </xsl:if>
                    </xsl:when>
                    <xsl:otherwise>
                        <pfx5:SSTAN>
                            <xsl:value-of select="$Start/TransactionReq/STAN_S"/>
                        </pfx5:SSTAN>
                    </xsl:otherwise>
                </xsl:choose>
                <pfx5:TrxDTime>
                    <xsl:value-of select="concat(&#xA;&#x9;$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_13,&#xA;&#x9;$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_12&#xA;)"/>
                </pfx5:TrxDTime>
                <xsl:if test="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_18">
                    <pfx5:DMerchantID>
                        <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_18"/>
                    </pfx5:DMerchantID>
                </xsl:if>
                <pfx5:DTerminalID>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 75, 15)"/>
                </pfx5:DTerminalID>
                <pfx5:DPrglib>
                    <xsl:value-of select="tib:pad($_globalVariables/ns:GlobalVariables/CBS/Posting/Proxy/PRGLIB, 10, ' ')"/>
                </pfx5:DPrglib>
                <pfx5:DCurlib>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/ActiveLib, 10, ' ')"/>
                </pfx5:DCurlib>
                <pfx5:SAcnoT>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_102, 19)"/>
                </pfx5:SAcnoT>
                <pfx5:SCcyT>
                    <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_49"/>
                </pfx5:SCcyT>
                <pfx5:STypeT>
                    <xsl:value-of select="substring(&#xA;&#x9;$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_03,&#xA;3, 2)"/>
                </pfx5:STypeT>
                <pfx5:SAcnoC>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_103, 19)"/>
                </pfx5:SAcnoC>
                <xsl:if test="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_51">
                    <pfx5:SCcyC>
                        <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_51"/>
                    </pfx5:SCcyC>
                </xsl:if>
                <pfx5:STypeC>
                    <xsl:value-of select="substring(&#xA;&#x9;$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_03,&#xA;5, 2)"/>
                </pfx5:STypeC>
                <xsl:if test="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_49">
                    <pfx5:SAmType>
                        <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_49"/>
                    </pfx5:SAmType>
                </xsl:if>
                <pfx5:SAmtr>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_04, 20)"/>
                </pfx5:SAmtr>
                <pfx5:SRtx>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_10, 19)"/>
                </pfx5:SRtx>
                <pfx5:STrDes1>
                    <xsl:value-of select="tib:pad(substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_48, 1, 40), 40)"/>
                </pfx5:STrDes1>
                <pfx5:STrDes2>
                    <xsl:value-of select="tib:pad(substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_48, 41, 40), 40)"/>
                </pfx5:STrDes2>
                <pfx5:STrDes3>
                    <xsl:value-of select="tib:pad(substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_48, 81, 60), 60)"/>
                </pfx5:STrDes3>
                <pfx5:STglWrk>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 21, 10)"/>
                </pfx5:STglWrk>
                <pfx5:SWarkat>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 31, 20)"/>
                </pfx5:SWarkat>
                <pfx5:SStlID>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_100, 11)"/>
                </pfx5:SStlID>
                <pfx5:STtyp>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_03, 1, 2)"/>
                </pfx5:STtyp>
                <pfx5:SProdCd>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 3, 6)"/>
                </pfx5:SProdCd>
                <pfx5:SFeeCod>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 1, 2)"/>
                </pfx5:SFeeCod>
                <pfx5:SFwdiID>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_33, 11)"/>
                </pfx5:SFwdiID>
                <pfx5:SYYYY>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_63, 1, 4)"/>
                </pfx5:SYYYY>
                <pfx5:SMMDD>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_63, 5, 4)"/>
                </pfx5:SMMDD>
                <pfx5:SBTCOD>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_63, 9, 10)"/>
                </pfx5:SBTCOD>
                <pfx5:STrno>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_63, 19, 7)"/>
                </pfx5:STrno>
                <pfx5:SOpCode>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 9, 2)"/>
                </pfx5:SOpCode>
                <pfx5:SDvcCod>
                    <xsl:value-of select="substring($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62, 55, 20)"/>
                </pfx5:SDvcCod>
                <pfx5:SFeeAmtr>
                    <xsl:value-of select="tib:pad-front($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_28, 20, '0')"/>
                </pfx5:SFeeAmtr>
                <pfx5:SAqtr>
                    <xsl:value-of select="tib:pad($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_06, 20)"/>
                </pfx5:SAqtr>
                <xsl:if test="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_90">
                    <pfx5:SRRN>
                        <xsl:value-of select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_90"/>
                    </pfx5:SRRN>
                </xsl:if>
                <pfx5:SBlank>
                    <xsl:value-of select="tib:pad('', 168, ' ')"/>
                </pfx5:SBlank>
            </pfx5:PostingData>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="GenerateDataOutput">
        <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
        <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
        <pd:x>1226</pd:x>
        <pd:y>77</pd:y>
        <config>
            <element ref="pfx2:ISOMessages"/>
        </config>
        <pd:inputBindings>
            <pfx2:ISOMessages>
                <pfx2:MTI>
                    <xsl:value-of select="$_globalVariables/ns:GlobalVariables/CBS/Posting/Proxy/MTI_ReverseRes"/>
                </pfx2:MTI>
                <xsl:for-each select="$Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement">
                    <pfx2:DataElement>
                        <xsl:if test="pfx2:Element_01">
                            <pfx2:Element_01>
                                <xsl:value-of select="pfx2:Element_01"/>
                            </pfx2:Element_01>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_02">
                            <pfx2:Element_02>
                                <xsl:value-of select="pfx2:Element_02"/>
                            </pfx2:Element_02>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_03">
                            <pfx2:Element_03>
                                <xsl:value-of select="pfx2:Element_03"/>
                            </pfx2:Element_03>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_04">
                            <pfx2:Element_04>
                                <xsl:value-of select="pfx2:Element_04"/>
                            </pfx2:Element_04>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_05">
                            <pfx2:Element_05>
                                <xsl:value-of select="pfx2:Element_05"/>
                            </pfx2:Element_05>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_06">
                            <pfx2:Element_06>
                                <xsl:value-of select="pfx2:Element_06"/>
                            </pfx2:Element_06>
                        </xsl:if>
                        <xsl:choose>
                            <xsl:when test="pfx2:Element_07">
                                <pfx2:Element_07>
                                    <xsl:value-of select="pfx2:Element_07"/>
                                </pfx2:Element_07>
                            </xsl:when>
                            <xsl:otherwise>
                                <pfx2:Element_07>
                                    <xsl:value-of select="tib:format-dateTime(&quot;MMddHHmmss&quot;, current-dateTime())"/>
                                </pfx2:Element_07>
                            </xsl:otherwise>
                        </xsl:choose>
                        <xsl:if test="pfx2:Element_08">
                            <pfx2:Element_08>
                                <xsl:value-of select="pfx2:Element_08"/>
                            </pfx2:Element_08>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_09">
                            <pfx2:Element_09>
                                <xsl:value-of select="pfx2:Element_09"/>
                            </pfx2:Element_09>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_10">
                            <pfx2:Element_10>
                                <xsl:value-of select="pfx2:Element_10"/>
                            </pfx2:Element_10>
                        </xsl:if>
                        <pfx2:Element_11>
                            <xsl:value-of select="../../STAN_S"/>
                        </pfx2:Element_11>
                        <xsl:choose>
                            <xsl:when test="pfx2:Element_12">
                                <pfx2:Element_12>
                                    <xsl:value-of select="pfx2:Element_12"/>
                                </pfx2:Element_12>
                            </xsl:when>
                            <xsl:otherwise>
                                <pfx2:Element_12>
                                    <xsl:value-of select="tib:format-dateTime(&quot;HHmmss&quot;, current-dateTime())"/>
                                </pfx2:Element_12>
                            </xsl:otherwise>
                        </xsl:choose>
                        <xsl:choose>
                            <xsl:when test="pfx2:Element_13">
                                <pfx2:Element_13>
                                    <xsl:value-of select="pfx2:Element_13"/>
                                </pfx2:Element_13>
                            </xsl:when>
                            <xsl:otherwise>
                                <pfx2:Element_13>
                                    <xsl:value-of select="tib:format-dateTime(&quot;MMdd&quot;, current-dateTime())"/>
                                </pfx2:Element_13>
                            </xsl:otherwise>
                        </xsl:choose>
                        <xsl:if test="pfx2:Element_14">
                            <pfx2:Element_14>
                                <xsl:value-of select="pfx2:Element_14"/>
                            </pfx2:Element_14>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_15">
                            <pfx2:Element_15>
                                <xsl:value-of select="pfx2:Element_15"/>
                            </pfx2:Element_15>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_16">
                            <pfx2:Element_16>
                                <xsl:value-of select="pfx2:Element_16"/>
                            </pfx2:Element_16>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_17">
                            <pfx2:Element_17>
                                <xsl:value-of select="pfx2:Element_17"/>
                            </pfx2:Element_17>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_18">
                            <pfx2:Element_18>
                                <xsl:value-of select="pfx2:Element_18"/>
                            </pfx2:Element_18>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_19">
                            <pfx2:Element_19>
                                <xsl:value-of select="pfx2:Element_19"/>
                            </pfx2:Element_19>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_20">
                            <pfx2:Element_20>
                                <xsl:value-of select="pfx2:Element_20"/>
                            </pfx2:Element_20>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_21">
                            <pfx2:Element_21>
                                <xsl:value-of select="pfx2:Element_21"/>
                            </pfx2:Element_21>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_22">
                            <pfx2:Element_22>
                                <xsl:value-of select="pfx2:Element_22"/>
                            </pfx2:Element_22>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_23">
                            <pfx2:Element_23>
                                <xsl:value-of select="pfx2:Element_23"/>
                            </pfx2:Element_23>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_24">
                            <pfx2:Element_24>
                                <xsl:value-of select="pfx2:Element_24"/>
                            </pfx2:Element_24>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_25">
                            <pfx2:Element_25>
                                <xsl:value-of select="pfx2:Element_25"/>
                            </pfx2:Element_25>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_26">
                            <pfx2:Element_26>
                                <xsl:value-of select="pfx2:Element_26"/>
                            </pfx2:Element_26>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_27">
                            <pfx2:Element_27>
                                <xsl:value-of select="pfx2:Element_27"/>
                            </pfx2:Element_27>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_28">
                            <pfx2:Element_28>
                                <xsl:value-of select="pfx2:Element_28"/>
                            </pfx2:Element_28>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_29">
                            <pfx2:Element_29>
                                <xsl:value-of select="pfx2:Element_29"/>
                            </pfx2:Element_29>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_30">
                            <pfx2:Element_30>
                                <xsl:value-of select="pfx2:Element_30"/>
                            </pfx2:Element_30>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_31">
                            <pfx2:Element_31>
                                <xsl:value-of select="pfx2:Element_31"/>
                            </pfx2:Element_31>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_32">
                            <pfx2:Element_32>
                                <xsl:value-of select="pfx2:Element_32"/>
                            </pfx2:Element_32>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_33">
                            <pfx2:Element_33>
                                <xsl:value-of select="pfx2:Element_33"/>
                            </pfx2:Element_33>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_34">
                            <pfx2:Element_34>
                                <xsl:value-of select="pfx2:Element_34"/>
                            </pfx2:Element_34>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_35">
                            <pfx2:Element_35>
                                <xsl:value-of select="pfx2:Element_35"/>
                            </pfx2:Element_35>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_36">
                            <pfx2:Element_36>
                                <xsl:value-of select="pfx2:Element_36"/>
                            </pfx2:Element_36>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_37">
                            <pfx2:Element_37>
                                <xsl:value-of select="pfx2:Element_37"/>
                            </pfx2:Element_37>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_38">
                            <pfx2:Element_38>
                                <xsl:value-of select="pfx2:Element_38"/>
                            </pfx2:Element_38>
                        </xsl:if>
                        <pfx2:Element_39>
                            <xsl:value-of select="$Parse-Data-Output/Output/RRESP"/>
                        </pfx2:Element_39>
                        <xsl:if test="pfx2:Element_40">
                            <pfx2:Element_40>
                                <xsl:value-of select="pfx2:Element_40"/>
                            </pfx2:Element_40>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_41">
                            <pfx2:Element_41>
                                <xsl:value-of select="pfx2:Element_41"/>
                            </pfx2:Element_41>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_42">
                            <pfx2:Element_42>
                                <xsl:value-of select="pfx2:Element_42"/>
                            </pfx2:Element_42>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_43">
                            <pfx2:Element_43>
                                <xsl:value-of select="pfx2:Element_43"/>
                            </pfx2:Element_43>
                        </xsl:if>
                        <pfx2:Element_44>
                            <xsl:value-of select="$Parse-Data-Output/Output/RERRMSG"/>
                        </pfx2:Element_44>
                        <xsl:if test="pfx2:Element_45">
                            <pfx2:Element_45>
                                <xsl:value-of select="pfx2:Element_45"/>
                            </pfx2:Element_45>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_46">
                            <pfx2:Element_46>
                                <xsl:value-of select="pfx2:Element_46"/>
                            </pfx2:Element_46>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_47">
                            <pfx2:Element_47>
                                <xsl:value-of select="pfx2:Element_47"/>
                            </pfx2:Element_47>
                        </xsl:if>
                        <pfx2:Element_48>
                            <xsl:value-of select="concat(&#xA;&#x9;tib:pad(pfx2:Element_48, 140),&#xA;&#x9;$Parse-Data-Output/Output/RYYY,&#xA;&#x9;$Parse-Data-Output/Output/RMMDD,&#xA;&#x9;$Parse-Data-Output/Output/RBTCOD,&#xA;&#x9;$Parse-Data-Output/Output/RTRNO&#xA;)"/>
                        </pfx2:Element_48>
                        <xsl:if test="pfx2:Element_49">
                            <pfx2:Element_49>
                                <xsl:value-of select="pfx2:Element_49"/>
                            </pfx2:Element_49>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_50">
                            <pfx2:Element_50>
                                <xsl:value-of select="pfx2:Element_50"/>
                            </pfx2:Element_50>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_51">
                            <pfx2:Element_51>
                                <xsl:value-of select="pfx2:Element_51"/>
                            </pfx2:Element_51>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_52">
                            <pfx2:Element_52>
                                <xsl:value-of select="pfx2:Element_52"/>
                            </pfx2:Element_52>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_53">
                            <pfx2:Element_53>
                                <xsl:value-of select="pfx2:Element_53"/>
                            </pfx2:Element_53>
                        </xsl:if>
                        <pfx2:Element_54>
                            <xsl:value-of select="concat(&#xA;&#x9;$Parse-Data-Output/Output/RSALDOS,&#xA;&#x9;$Parse-Data-Output/Output/RSALDO&#xA;)"/>
                        </pfx2:Element_54>
                        <xsl:if test="pfx2:Element_55">
                            <pfx2:Element_55>
                                <xsl:value-of select="pfx2:Element_55"/>
                            </pfx2:Element_55>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_56">
                            <pfx2:Element_56>
                                <xsl:value-of select="pfx2:Element_56"/>
                            </pfx2:Element_56>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_57">
                            <pfx2:Element_57>
                                <xsl:value-of select="pfx2:Element_57"/>
                            </pfx2:Element_57>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_58">
                            <pfx2:Element_58>
                                <xsl:value-of select="pfx2:Element_58"/>
                            </pfx2:Element_58>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_59">
                            <pfx2:Element_59>
                                <xsl:value-of select="pfx2:Element_59"/>
                            </pfx2:Element_59>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_60">
                            <pfx2:Element_60>
                                <xsl:value-of select="pfx2:Element_60"/>
                            </pfx2:Element_60>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_61">
                            <pfx2:Element_61>
                                <xsl:value-of select="pfx2:Element_61"/>
                            </pfx2:Element_61>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_62">
                            <pfx2:Element_62>
                                <xsl:value-of select="pfx2:Element_62"/>
                            </pfx2:Element_62>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_63">
                            <pfx2:Element_63>
                                <xsl:value-of select="pfx2:Element_63"/>
                            </pfx2:Element_63>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_64">
                            <pfx2:Element_64>
                                <xsl:value-of select="pfx2:Element_64"/>
                            </pfx2:Element_64>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_65">
                            <pfx2:Element_65>
                                <xsl:value-of select="pfx2:Element_65"/>
                            </pfx2:Element_65>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_66">
                            <pfx2:Element_66>
                                <xsl:value-of select="pfx2:Element_66"/>
                            </pfx2:Element_66>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_67">
                            <pfx2:Element_67>
                                <xsl:value-of select="pfx2:Element_67"/>
                            </pfx2:Element_67>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_68">
                            <pfx2:Element_68>
                                <xsl:value-of select="pfx2:Element_68"/>
                            </pfx2:Element_68>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_69">
                            <pfx2:Element_69>
                                <xsl:value-of select="pfx2:Element_69"/>
                            </pfx2:Element_69>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_70">
                            <pfx2:Element_70>
                                <xsl:value-of select="pfx2:Element_70"/>
                            </pfx2:Element_70>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_71">
                            <pfx2:Element_71>
                                <xsl:value-of select="pfx2:Element_71"/>
                            </pfx2:Element_71>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_72">
                            <pfx2:Element_72>
                                <xsl:value-of select="pfx2:Element_72"/>
                            </pfx2:Element_72>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_73">
                            <pfx2:Element_73>
                                <xsl:value-of select="pfx2:Element_73"/>
                            </pfx2:Element_73>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_74">
                            <pfx2:Element_74>
                                <xsl:value-of select="pfx2:Element_74"/>
                            </pfx2:Element_74>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_75">
                            <pfx2:Element_75>
                                <xsl:value-of select="pfx2:Element_75"/>
                            </pfx2:Element_75>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_76">
                            <pfx2:Element_76>
                                <xsl:value-of select="pfx2:Element_76"/>
                            </pfx2:Element_76>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_77">
                            <pfx2:Element_77>
                                <xsl:value-of select="pfx2:Element_77"/>
                            </pfx2:Element_77>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_78">
                            <pfx2:Element_78>
                                <xsl:value-of select="pfx2:Element_78"/>
                            </pfx2:Element_78>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_79">
                            <pfx2:Element_79>
                                <xsl:value-of select="pfx2:Element_79"/>
                            </pfx2:Element_79>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_80">
                            <pfx2:Element_80>
                                <xsl:value-of select="pfx2:Element_80"/>
                            </pfx2:Element_80>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_81">
                            <pfx2:Element_81>
                                <xsl:value-of select="pfx2:Element_81"/>
                            </pfx2:Element_81>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_82">
                            <pfx2:Element_82>
                                <xsl:value-of select="pfx2:Element_82"/>
                            </pfx2:Element_82>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_83">
                            <pfx2:Element_83>
                                <xsl:value-of select="pfx2:Element_83"/>
                            </pfx2:Element_83>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_84">
                            <pfx2:Element_84>
                                <xsl:value-of select="pfx2:Element_84"/>
                            </pfx2:Element_84>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_85">
                            <pfx2:Element_85>
                                <xsl:value-of select="pfx2:Element_85"/>
                            </pfx2:Element_85>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_86">
                            <pfx2:Element_86>
                                <xsl:value-of select="pfx2:Element_86"/>
                            </pfx2:Element_86>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_87">
                            <pfx2:Element_87>
                                <xsl:value-of select="pfx2:Element_87"/>
                            </pfx2:Element_87>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_88">
                            <pfx2:Element_88>
                                <xsl:value-of select="pfx2:Element_88"/>
                            </pfx2:Element_88>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_89">
                            <pfx2:Element_89>
                                <xsl:value-of select="pfx2:Element_89"/>
                            </pfx2:Element_89>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_90">
                            <pfx2:Element_90>
                                <xsl:value-of select="pfx2:Element_90"/>
                            </pfx2:Element_90>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_91">
                            <pfx2:Element_91>
                                <xsl:value-of select="pfx2:Element_91"/>
                            </pfx2:Element_91>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_92">
                            <pfx2:Element_92>
                                <xsl:value-of select="pfx2:Element_92"/>
                            </pfx2:Element_92>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_93">
                            <pfx2:Element_93>
                                <xsl:value-of select="pfx2:Element_93"/>
                            </pfx2:Element_93>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_94">
                            <pfx2:Element_94>
                                <xsl:value-of select="pfx2:Element_94"/>
                            </pfx2:Element_94>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_95">
                            <pfx2:Element_95>
                                <xsl:value-of select="pfx2:Element_95"/>
                            </pfx2:Element_95>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_96">
                            <pfx2:Element_96>
                                <xsl:value-of select="pfx2:Element_96"/>
                            </pfx2:Element_96>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_97">
                            <pfx2:Element_97>
                                <xsl:value-of select="pfx2:Element_97"/>
                            </pfx2:Element_97>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_98">
                            <pfx2:Element_98>
                                <xsl:value-of select="pfx2:Element_98"/>
                            </pfx2:Element_98>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_99">
                            <pfx2:Element_99>
                                <xsl:value-of select="pfx2:Element_99"/>
                            </pfx2:Element_99>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_100">
                            <pfx2:Element_100>
                                <xsl:value-of select="pfx2:Element_100"/>
                            </pfx2:Element_100>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_101">
                            <pfx2:Element_101>
                                <xsl:value-of select="pfx2:Element_101"/>
                            </pfx2:Element_101>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_102">
                            <pfx2:Element_102>
                                <xsl:value-of select="pfx2:Element_102"/>
                            </pfx2:Element_102>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_103">
                            <pfx2:Element_103>
                                <xsl:value-of select="pfx2:Element_103"/>
                            </pfx2:Element_103>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_104">
                            <pfx2:Element_104>
                                <xsl:value-of select="pfx2:Element_104"/>
                            </pfx2:Element_104>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_105">
                            <pfx2:Element_105>
                                <xsl:value-of select="pfx2:Element_105"/>
                            </pfx2:Element_105>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_106">
                            <pfx2:Element_106>
                                <xsl:value-of select="pfx2:Element_106"/>
                            </pfx2:Element_106>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_107">
                            <pfx2:Element_107>
                                <xsl:value-of select="pfx2:Element_107"/>
                            </pfx2:Element_107>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_108">
                            <pfx2:Element_108>
                                <xsl:value-of select="pfx2:Element_108"/>
                            </pfx2:Element_108>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_109">
                            <pfx2:Element_109>
                                <xsl:value-of select="pfx2:Element_109"/>
                            </pfx2:Element_109>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_110">
                            <pfx2:Element_110>
                                <xsl:value-of select="pfx2:Element_110"/>
                            </pfx2:Element_110>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_111">
                            <pfx2:Element_111>
                                <xsl:value-of select="pfx2:Element_111"/>
                            </pfx2:Element_111>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_112">
                            <pfx2:Element_112>
                                <xsl:value-of select="pfx2:Element_112"/>
                            </pfx2:Element_112>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_113">
                            <pfx2:Element_113>
                                <xsl:value-of select="pfx2:Element_113"/>
                            </pfx2:Element_113>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_114">
                            <pfx2:Element_114>
                                <xsl:value-of select="pfx2:Element_114"/>
                            </pfx2:Element_114>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_115">
                            <pfx2:Element_115>
                                <xsl:value-of select="pfx2:Element_115"/>
                            </pfx2:Element_115>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_116">
                            <pfx2:Element_116>
                                <xsl:value-of select="pfx2:Element_116"/>
                            </pfx2:Element_116>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_117">
                            <pfx2:Element_117>
                                <xsl:value-of select="pfx2:Element_117"/>
                            </pfx2:Element_117>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_118">
                            <pfx2:Element_118>
                                <xsl:value-of select="pfx2:Element_118"/>
                            </pfx2:Element_118>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_119">
                            <pfx2:Element_119>
                                <xsl:value-of select="pfx2:Element_119"/>
                            </pfx2:Element_119>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_120">
                            <pfx2:Element_120>
                                <xsl:value-of select="pfx2:Element_120"/>
                            </pfx2:Element_120>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_121">
                            <pfx2:Element_121>
                                <xsl:value-of select="pfx2:Element_121"/>
                            </pfx2:Element_121>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_122">
                            <pfx2:Element_122>
                                <xsl:value-of select="pfx2:Element_122"/>
                            </pfx2:Element_122>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_123">
                            <pfx2:Element_123>
                                <xsl:value-of select="pfx2:Element_123"/>
                            </pfx2:Element_123>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_124">
                            <pfx2:Element_124>
                                <xsl:value-of select="pfx2:Element_124"/>
                            </pfx2:Element_124>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_125">
                            <pfx2:Element_125>
                                <xsl:value-of select="pfx2:Element_125"/>
                            </pfx2:Element_125>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_126">
                            <pfx2:Element_126>
                                <xsl:value-of select="pfx2:Element_126"/>
                            </pfx2:Element_126>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_127">
                            <pfx2:Element_127>
                                <xsl:value-of select="pfx2:Element_127"/>
                            </pfx2:Element_127>
                        </xsl:if>
                        <xsl:if test="pfx2:Element_128">
                            <pfx2:Element_128>
                                <xsl:value-of select="pfx2:Element_128"/>
                            </pfx2:Element_128>
                        </xsl:if>
                    </pfx2:DataElement>
                </xsl:for-each>
            </pfx2:ISOMessages>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="InvalidFormat">
        <pd:type>com.tibco.pe.core.GenerateErrorActivity</pd:type>
        <pd:resourceType>ae.activities.throw</pd:resourceType>
        <pd:x>499</pd:x>
        <pd:y>191</pd:y>
        <config>
            <faultName/>
        </config>
        <pd:inputBindings>
            <pfx4:ActivityInput>
                <message>
                    <xsl:value-of select="concat(&quot;Invalid format input data error &quot; , tib:render-xml($GenerateDataInput/pfx5:PostingData, false(), true()))"/>
                </message>
                <messageCode>
                    <xsl:value-of select="&quot;GENERATE ERROR AUDIT&quot;"/>
                </messageCode>
            </pfx4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="InvalidInput">
        <pd:type>com.tibco.pe.core.GenerateErrorActivity</pd:type>
        <pd:resourceType>ae.activities.throw</pd:resourceType>
        <pd:x>352</pd:x>
        <pd:y>191</pd:y>
        <config>
            <faultName/>
        </config>
        <pd:inputBindings>
            <pfx4:ActivityInput>
                <message>
                    <xsl:value-of select="concat(&quot;Invalid format input data error. &quot;, tib:render-xml($Start/TransactionReq, false(), true()))"/>
                </message>
                <messageCode>
                    <xsl:value-of select="&quot;GENERATE ERROR AUDIT&quot;"/>
                </messageCode>
            </pfx4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Rethrow">
        <pd:type>com.tibco.pe.core.RethrowActivity</pd:type>
        <pd:resourceType>ae.activities.rethrow</pd:resourceType>
        <pd:x>1367</pd:x>
        <pd:y>296</pd:y>
        <config/>
        <pd:inputBindings/>
    </pd:activity>
    <pd:activity name="StartLog">
        <pd:type>com.tibco.pe.core.WriteToLogActivity</pd:type>
        <pd:resourceType>ae.activities.log</pd:resourceType>
        <pd:x>193</pd:x>
        <pd:y>70</pd:y>
        <config>
            <role>User</role>
            <suppressHeader>true</suppressHeader>
        </config>
        <pd:inputBindings>
            <ns4:ActivityInput>
                <message>
                    <xsl:value-of select="concat(&#xA;&#x9;&quot;Start reversal posting process triggered by  &quot;, $Start/TransactionReq/ClientID,&#xA;&#x9;&quot; at &quot;, current-dateTime())"/>
                </message>
                <msgCode>
                    <xsl:value-of select="&quot;START AUDIT&quot;"/>
                </msgCode>
            </ns4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="CallError">
        <pd:type>com.tibco.pe.core.GenerateErrorActivity</pd:type>
        <pd:resourceType>ae.activities.throw</pd:resourceType>
        <pd:x>837</pd:x>
        <pd:y>194</pd:y>
        <config>
            <faultName/>
        </config>
        <pd:inputBindings>
            <pfx4:ActivityInput>
                <message>
                    <xsl:value-of select="'Call program transaction posting error'"/>
                </message>
                <messageCode>
                    <xsl:value-of select="&quot;AUDIT GENERATE ERROR&quot;"/>
                </messageCode>
            </pfx4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="GenerateStringInput">
        <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
        <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
        <pd:x>637</pd:x>
        <pd:y>68</pd:y>
        <config>
            <element>
                <xsd:element name="StringInput" type="xsd:string"/>
            </element>
        </config>
        <pd:inputBindings>
            <StringInput>
                <xsl:value-of select="concat($GenerateDataInput/pfx5:PostingData/pfx5:TrxType&#xA;, $GenerateDataInput/pfx5:PostingData/pfx5:SSTAN&#xA;, $GenerateDataInput/pfx5:PostingData/pfx5:TrxDTime &#xA;, $GenerateDataInput/pfx5:PostingData/pfx5:DMerchantID&#xA;, $GenerateDataInput/pfx5:PostingData/pfx5:DTerminalID&#xA;, $GenerateDataInput/pfx5:PostingData/pfx5:DPrglib&#xA;, $GenerateDataInput/pfx5:PostingData/pfx5:DCurlib&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SAcnoT&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SCcyT&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STypeT&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SAcnoC&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SCcyC&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STypeC&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SAmType&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SAmtr&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SRtx&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STrDes1&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STrDes2&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STrDes3&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STglWrk&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SWarkat&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SStlID&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STtyp&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SProdCd&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SFeeCod&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SFwdiID&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SYYYY&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SMMDD&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SBTCOD&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:STrno&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SOpCode&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SDvcCod&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SFeeAmtr&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SAqtr&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SRRN&#xA;,$GenerateDataInput/pfx5:PostingData/pfx5:SBlank&#xA;)"/>
            </StringInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Call FEPESBCORE">
        <pd:type>com.tibco.plugin.java.JavaMethodActivity</pd:type>
        <pd:resourceType>ae.activities.JavaMethodActivity</pd:resourceType>
        <pd:x>918</pd:x>
        <pd:y>71</pd:y>
        <config>
            <ConstructDeclaredClass>false</ConstructDeclaredClass>
            <CacheConstructedClass>false</CacheConstructedClass>
            <InvokeCleanupMethod>false</InvokeCleanupMethod>
            <MethodInfo>
                <classLocation>d:/callfepesbcore.jar</classLocation>
                <classPath>/SharedResources/CBS/Posting/Proxy/Library/AliasLibrary.aliaslib</classPath>
                <className>callfepesbcore.CallFEPESBCORE</className>
                <methodName>CallAs400</methodName>
                <methodReturn>java.lang.String</methodReturn>
                <methodParameter>java.lang.String</methodParameter>
                <methodParameter>java.lang.String</methodParameter>
                <methodParameter>java.lang.String</methodParameter>
                <methodParameter>java.lang.String</methodParameter>
                <methodParameter>java.lang.String</methodParameter>
                <methodParameter>java.lang.String</methodParameter>
                <methodParameter>java.lang.String</methodParameter>
            </MethodInfo>
        </config>
        <pd:inputBindings>
            <ns13:JavaMethodActivityInput>
                <MethodParameters>
                    <Parameter1>
                        <xsl:value-of select="$_globalVariables/ns:GlobalVariables/SharedResources/Connections/IBM_iSeries/ibm.server"/>
                    </Parameter1>
                    <Parameter2>
                        <xsl:value-of select="$_globalVariables/ns:GlobalVariables/SharedResources/Connections/IBM_iSeries/ibm.username"/>
                    </Parameter2>
                    <Parameter3>
                        <xsl:value-of select="$GetPassword/javaCodeActivityOutput/password"/>
                    </Parameter3>
                    <Parameter4>
                        <xsl:value-of select="$GenerateStringInput/StringInput"/>
                    </Parameter4>
                    <Parameter5>
                        <xsl:value-of select="$_globalVariables/ns:GlobalVariables/CBS/Posting/Proxy/PRGLIB"/>
                    </Parameter5>
                    <Parameter6>
                        <xsl:value-of select="$Start/TransactionReq/ActiveLib"/>
                    </Parameter6>
                    <Parameter7>
                        <xsl:value-of select="$_globalVariables/ns:GlobalVariables/CBS/Posting/Proxy/PathPCML"/>
                    </Parameter7>
                </MethodParameters>
            </ns13:JavaMethodActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Parse Data Output">
        <pd:type>com.tibco.plugin.mapper.MapperActivity</pd:type>
        <pd:resourceType>ae.activities.MapperActivity</pd:resourceType>
        <pd:x>1076</pd:x>
        <pd:y>73</pd:y>
        <config>
            <element>
                <xsd:element name="Output">
                    <xsd:complexType>
                        <xsd:sequence>
                            <xsd:element name="RYYY" type="xsd:string"/>
                            <xsd:element name="RMMDD" type="xsd:string"/>
                            <xsd:element name="RBTCOD" type="xsd:string"/>
                            <xsd:element name="RTRNO" type="xsd:string"/>
                            <xsd:element name="RRESP" type="xsd:string"/>
                            <xsd:element name="RSALDOS" type="xsd:string"/>
                            <xsd:element name="RSALDO" type="xsd:string"/>
                            <xsd:element name="RERRMSG" type="xsd:string"/>
                        </xsd:sequence>
                    </xsd:complexType>
                </xsd:element>
            </element>
        </config>
        <pd:inputBindings>
            <Output>
                <RYYY>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 3, 4)"/>
                </RYYY>
                <RMMDD>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 7, 4)"/>
                </RMMDD>
                <RBTCOD>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 11, 4)"/>
                </RBTCOD>
                <RTRNO>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 15, 7)"/>
                </RTRNO>
                <RRESP>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 22, 3)"/>
                </RRESP>
                <RSALDOS>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 25, 1)"/>
                </RSALDOS>
                <RSALDO>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 26, 19)"/>
                </RSALDO>
                <RERRMSG>
                    <xsl:value-of select="substring($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 45, 30)"/>
                </RERRMSG>
            </Output>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Generate Error">
        <pd:type>com.tibco.pe.core.GenerateErrorActivity</pd:type>
        <pd:resourceType>ae.activities.throw</pd:resourceType>
        <pd:x>988</pd:x>
        <pd:y>194</pd:y>
        <config>
            <faultName/>
        </config>
        <pd:inputBindings>
            <pfx4:ActivityInput>
                <message>
                    <xsl:value-of select="concat('Call Transaction Posting Failed with RC ', tib:left($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 2))"/>
                </message>
                <messageCode>
                    <xsl:value-of select="'CALL UNSUCCESSFULL'"/>
                </messageCode>
            </pfx4:ActivityInput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="GetPassword">
        <pd:type>com.tibco.plugin.java.JavaActivity</pd:type>
        <pd:resourceType>ae.javapalette.javaActivity</pd:resourceType>
        <pd:x>764</pd:x>
        <pd:y>69</pd:y>
        <config>
            <fileName>Posting_ReversalGetPassword</fileName>
            <packageName>Implementation.CBS.Posting.Proxy.Process.Posting_Reversal</packageName>
            <fullsource>package Implementation.CBS.Posting.Proxy.Process.Posting_Reversal;
import java.util.*;
import java.io.*;
public class Posting_ReversalGetPassword{
/****** START SET/GET METHOD, DO NOT MODIFY *****/
	protected String password = "";
	public String getpassword() {
		return password;
	}
	public void setpassword(String val) {
		password = val;
	}
/****** END SET/GET METHOD, DO NOT MODIFY *****/
	public Posting_ReversalGetPassword() {
	}
	public void invoke() throws Exception {
/* Available Variables: DO NOT MODIFY
	Out : String password
* Available Variables: DO NOT MODIFY *****/
	String pass = com.tibco.pe.plugin.PluginProperties.getProperty("tibco.clientVar.SharedResources/Connections/IBM_iSeries/ibm.password");
	password = pass;
}
}
</fullsource>
            <outputData>
                <row>
                    <fieldName>password</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
            </outputData>
            <byteCode>
                <class>
                    <name>Posting_ReversalGetPassword</name>
                    <byteCode>yv66vgAAADMAIwkABgAXCgAHABgIABkIABoKABsAHAcAHQcAHgEACHBhc3N3b3JkAQASTGphdmEvbGFuZy9TdHJpbmc7AQALZ2V0cGFzc3dvcmQBABQoKUxqYXZhL2xhbmcvU3RyaW5nOwEABENvZGUBAA9MaW5lTnVtYmVyVGFibGUBAAtzZXRwYXNzd29yZAEAFShMamF2YS9sYW5nL1N0cmluZzspVgEABjxpbml0PgEAAygpVgEABmludm9rZQEACkV4Y2VwdGlvbnMHAB8BAApTb3VyY2VGaWxlAQAgUG9zdGluZ19SZXZlcnNhbEdldFBhc3N3b3JkLmphdmEMAAgACQwAEAARAQAAAQBEdGliY28uY2xpZW50VmFyLlNoYXJlZFJlc291cmNlcy9Db25uZWN0aW9ucy9JQk1faVNlcmllcy9pYm0ucGFzc3dvcmQHACAMACEAIgEAVUltcGxlbWVudGF0aW9uL0NCUy9Qb3N0aW5nL1Byb3h5L1Byb2Nlc3MvUG9zdGluZ19SZXZlcnNhbC9Qb3N0aW5nX1JldmVyc2FsR2V0UGFzc3dvcmQBABBqYXZhL2xhbmcvT2JqZWN0AQATamF2YS9sYW5nL0V4Y2VwdGlvbgEAJGNvbS90aWJjby9wZS9wbHVnaW4vUGx1Z2luUHJvcGVydGllcwEAC2dldFByb3BlcnR5AQAmKExqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZzsAIQAGAAcAAAABAAQACAAJAAAABAABAAoACwABAAwAAAAdAAEAAQAAAAUqtAABsAAAAAEADQAAAAYAAQAAAAgAAQAOAA8AAQAMAAAAIgACAAIAAAAGKiu1AAGxAAAAAQANAAAACgACAAAACwAFAAwAAQAQABEAAQAMAAAAKwACAAEAAAALKrcAAioSA7UAAbEAAAABAA0AAAAOAAMAAAAOAAQABgAKAA8AAQASABEAAgAMAAAALAACAAIAAAAMEgS4AAVMKiu1AAGxAAAAAQANAAAADgADAAAAFAAGABUACwAWABMAAAAEAAEAFAABABUAAAACABY=</byteCode>
                </class>
            </byteCode>
        </config>
        <pd:inputBindings/>
    </pd:activity>
    <pd:transition>
        <pd:from>Start</pd:from>
        <pd:to>StartLog</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>GenerateDataOutput</pd:from>
        <pd:to>EndLog</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Catch</pd:from>
        <pd:to>ErrorLog</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-65536</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>StartLog</pd:from>
        <pd:to>AssignTimestamp</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>AssignTimestamp</pd:from>
        <pd:to>GenerateDataInput</pd:to>
        <pd:xpathDescription>valid</pd:xpathDescription>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>otherwise</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>EndLog</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>GenerateDataInput</pd:from>
        <pd:to>InvalidFormat</pd:to>
        <pd:xpathDescription>format data invalid</pd:xpathDescription>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-65536</pd:lineColor>
        <pd:conditionType>xpath</pd:conditionType>
        <pd:xpath>string-length($GenerateDataInput/pfx5:PostingData/pfx5:TrxType) !=4
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SSTAN) !=12
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:TrxDTime) !=10
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:DMerchantID) !=4
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:DTerminalID) !=15
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SAcnoT) !=19
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SCcyT) !=3
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STypeT) !=2
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SAcnoC) !=19
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SCcyC) !=3
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STypeC) !=2
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SAmType) !=3 
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SAmtr) !=20
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SRtx) !=19
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STrDes1) !=40
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STrDes2) !=40
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STrDes3) !=60
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STglWrk) !=10
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SWarkat) !=20
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SStlID) !=11
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STtyp) !=2
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SProdCd) !=6
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SFeeCod) !=2
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SFwdiID) !=11
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SYYYY) !=4
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SMMDD) !=4
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:SBTCOD) !=10
or
string-length($GenerateDataInput/pfx5:PostingData/pfx5:STrno) !=7</pd:xpath>
    </pd:transition>
    <pd:transition>
        <pd:from>ErrorLog</pd:from>
        <pd:to>Rethrow</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-65536</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>AssignTimestamp</pd:from>
        <pd:to>InvalidInput</pd:to>
        <pd:xpathDescription>invalid input</pd:xpathDescription>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-65536</pd:lineColor>
        <pd:conditionType>xpath</pd:conditionType>
        <pd:xpath>string-length($Start/TransactionReq/pfx2:ISOMessages/pfx2:DataElement/pfx2:Element_62) !=94</pd:xpath>
    </pd:transition>
    <pd:transition>
        <pd:from>GenerateDataInput</pd:from>
        <pd:to>GenerateStringInput</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>GenerateStringInput</pd:from>
        <pd:to>GetPassword</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>GetPassword</pd:from>
        <pd:to>Call FEPESBCORE</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Call FEPESBCORE</pd:from>
        <pd:to>Parse Data Output</pd:to>
        <pd:xpathDescription>Success</pd:xpathDescription>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>xpath</pd:conditionType>
        <pd:xpath>tib:left($Call-FEPESBCORE/ns6:JavaMethodActivityOutput/MethodReturnValue, 2) = '00'</pd:xpath>
    </pd:transition>
    <pd:transition>
        <pd:from>Parse Data Output</pd:from>
        <pd:to>GenerateDataOutput</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Call FEPESBCORE</pd:from>
        <pd:to>CallError</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>error</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Call FEPESBCORE</pd:from>
        <pd:to>Generate Error</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>otherwise</pd:conditionType>
    </pd:transition>
</pd:ProcessDefinition>